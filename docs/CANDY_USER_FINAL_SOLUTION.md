# Candy AI ç”¨æˆ·ç®¡ç†æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## ğŸ› é—®é¢˜æè¿°

ç‚¹å‡»ç”¨æˆ·ç®¡ç†æ—¶ï¼Œå‰ç«¯æŠ¥é”™ï¼š
- "No static resource candy/user/list"

## ğŸ” é—®é¢˜æ ¹æºåˆ†æ

### 1. **é—®é¢˜æœ¬è´¨**
è¿™æ˜¯ä¸€ä¸ª**å‰ç«¯åŠ¨æ€è·¯ç”±ç”Ÿæˆé—®é¢˜**ï¼Œå‰ç«¯æ²¡æœ‰æ­£ç¡®ç”ŸæˆCandy AIç”¨æˆ·ç®¡ç†çš„è·¯ç”±ã€‚

### 2. **æŠ€æœ¯åŸå› **
- å‰ç«¯é¡µé¢æ–‡ä»¶å­˜åœ¨è¯­æ³•é”™è¯¯ï¼ˆwatchä¸­å¼•ç”¨äº†ä¸å­˜åœ¨çš„deptNameï¼‰
- èœå•é…ç½®å¯èƒ½éœ€è¦é‡æ–°åŠ è½½
- å‰ç«¯åŠ¨æ€è·¯ç”±æ²¡æœ‰æ­£ç¡®ç”Ÿæˆ

### 3. **éªŒè¯ç»“æœ**
- âœ… APIæ¥å£åœ°å€æ­£ç¡®
- âœ… ä»£ç†é…ç½®æ­£ç¡®
- âœ… èœå•é…ç½®æ­£ç¡®
- âœ… æƒé™é…ç½®æ­£ç¡®
- âŒ å‰ç«¯é¡µé¢æœ‰è¯­æ³•é”™è¯¯
- âŒ å‰ç«¯åŠ¨æ€è·¯ç”±æ²¡æœ‰æ­£ç¡®ç”Ÿæˆ

## âœ… è§£å†³æ–¹æ¡ˆ

### **æ­¥éª¤1: ä¿®å¤å‰ç«¯é¡µé¢è¯­æ³•é”™è¯¯**

å·²ç»ä¿®å¤äº†å‰ç«¯é¡µé¢ä¸­çš„è¯­æ³•é”™è¯¯ï¼š
```javascript
// åˆ é™¤äº†é”™è¯¯çš„watchéƒ¨åˆ†
watch: {
  // æ ¹æ®åç§°ç­›é€‰éƒ¨é—¨æ ‘
  deptName(val) {
    this.$refs.tree.filter(val)
  }
},
```

### **æ­¥éª¤2: å¼ºåˆ¶åˆ·æ–°èœå•é…ç½®**

å·²ç»æ‰§è¡Œäº†èœå•é…ç½®åˆ·æ–°ï¼š
```sql
-- æ¸…ç†ç°æœ‰çš„Candy AIèœå•é…ç½®
DELETE FROM sys_role_menu WHERE menu_id IN (4, 400, 401, 402, 403, ...);
DELETE FROM sys_menu WHERE menu_id IN (4, 400, 401, 402, 403, ...);

-- é‡æ–°åˆ›å»ºCandy AIèœå•é…ç½®
INSERT INTO sys_menu VALUES('4', 'Candy AI', '0', '4', 'candy', null, '', '', 1, 0, 'M', '0', '0', '', 'candy', 'admin', sysdate(), '', null, 'Candy AIç®¡ç†ç›®å½•');
INSERT INTO sys_menu VALUES('400', 'ç”¨æˆ·ç®¡ç†', '4', '1', 'user', 'candy/user/index', '', '', 1, 0, 'C', '0', '0', 'candy:user:list', 'user', 'admin', sysdate(), '', null, 'Candy AIç”¨æˆ·ç®¡ç†èœå•');
-- ... å…¶ä»–èœå•é…ç½®
```

### **æ­¥éª¤3: æ¸…é™¤å‰ç«¯ç¼“å­˜å¹¶é‡æ–°ç™»å½•**

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   ```bash
   # Windows
   Ctrl + Shift + Delete
   
   # Mac
   Cmd + Shift + Delete
   ```

2. **æ¸…é™¤æœ¬åœ°å­˜å‚¨**
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - è¿›å…¥ Application/Storage æ ‡ç­¾
   - æ¸…é™¤ Local Storage å’Œ Session Storage

3. **é‡æ–°ç™»å½•ç®¡ç†åå°**
   - è®¿é—® `http://localhost:1024`
   - ä½¿ç”¨ç®¡ç†å‘˜è´¦å·é‡æ–°ç™»å½•
   - ç™»å½•åèœå•ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½

### **æ­¥éª¤4: éªŒè¯èœå•æ˜¾ç¤º**

ç™»å½•ååº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… å·¦ä¾§èœå•æ˜¾ç¤º "Candy AI"
- âœ… å±•å¼€åæ˜¾ç¤º "ç”¨æˆ·ç®¡ç†"ã€"è§’è‰²ç®¡ç†"ã€"å¯¹è¯ç®¡ç†"ã€"ç³»ç»Ÿè®¾ç½®"

### **æ­¥éª¤5: æµ‹è¯•åŠŸèƒ½**

1. **ç‚¹å‡» "ç”¨æˆ·ç®¡ç†"** - åº”è¯¥èƒ½æ­£å¸¸è·³è½¬åˆ°ç”¨æˆ·ç®¡ç†é¡µé¢
2. **æµ‹è¯•ç”¨æˆ·ç®¡ç†åŠŸèƒ½** - å¢åˆ æ”¹æŸ¥ã€å¯¼å…¥å¯¼å‡ºç­‰

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### 1. **èœå•é…ç½®éªŒè¯**
```sql
SELECT 
    m.menu_id,
    m.menu_name,
    m.parent_id,
    m.path,
    m.component,
    m.menu_type,
    m.visible,
    m.perms,
    CASE 
        WHEN m.parent_id = 0 THEN CONCAT('/', m.path)
        ELSE CONCAT('/', (SELECT p.path FROM sys_menu p WHERE p.menu_id = m.parent_id), '/', m.path)
    END as expected_route
FROM sys_menu m 
WHERE m.menu_id IN (4, 400, 401, 402, 403) 
ORDER BY m.menu_id;
```

**ç»“æœ**:
```
+---------+--------------+-----------+--------------+--------------------------+-----------+---------+-------------------------+---------------------+
| menu_id | menu_name    | parent_id | path         | component                | menu_type | visible | perms                   | expected_route      |
+---------+--------------+-----------+--------------+--------------------------+-----------+---------+-------------------------+---------------------+
|       4 | Candy AI     |         0 | candy        | NULL                     | M         | 0       |                         | /candy              |
|     400 | ç”¨æˆ·ç®¡ç†     |         4 | user         | candy/user/index         | C         | 0       | candy:user:list         | /candy/user         |
|     401 | è§’è‰²ç®¡ç†     |         4 | role         | candy/role/index         | C         | 0       | candy:role:list         | /candy/role         |
|     402 | å¯¹è¯ç®¡ç†     |         4 | conversation | candy/conversation/index | C         | 0       | candy:conversation:list | /candy/conversation |
|     403 | ç³»ç»Ÿè®¾ç½®     |         4 | setting      | candy/setting/index      | C         | 0       | candy:setting:list      | /candy/setting      |
+---------+--------------+-----------+--------------+--------------------------+-----------+---------+-------------------------+---------------------+
```

### 2. **æƒé™é…ç½®éªŒè¯**
```sql
SELECT COUNT(*) as candy_menu_permissions 
FROM sys_role_menu rm 
JOIN sys_menu m ON rm.menu_id = m.menu_id 
WHERE rm.role_id = 1 AND m.perms LIKE 'candy:%';
```

**ç»“æœ**: 20ä¸ªCandy AIæƒé™

### 3. **å‰ç«¯è·¯ç”±ç”Ÿæˆæµç¨‹**
```
ç”¨æˆ·ç™»å½• â†’ è·å–ç”¨æˆ·æƒé™ â†’ è°ƒç”¨getRouters API â†’ è·å–èœå•æ•°æ® â†’ ç”ŸæˆåŠ¨æ€è·¯ç”± â†’ æ·»åŠ åˆ°è·¯ç”±å™¨ â†’ æ¸²æŸ“é¡µé¢
```

## ğŸ¯ é¢„é˜²æªæ–½

### 1. **å¼€å‘æ—¶æ³¨æ„**
- ä¿®æ”¹èœå•é…ç½®åéœ€è¦é‡æ–°ç™»å½•
- ç¡®ä¿å‰ç«¯é¡µé¢æ²¡æœ‰è¯­æ³•é”™è¯¯
- ç¡®ä¿èœå•çš„çˆ¶å­å…³ç³»æ­£ç¡®
- ç¡®ä¿è·¯å¾„é…ç½®å”¯ä¸€ï¼Œé¿å…å†²çª

### 2. **æµ‹è¯•éªŒè¯**
- ç¡®ä¿å‰åç«¯æ¥å£åœ°å€åŒ¹é…
- ç¡®ä¿ç”¨æˆ·æœ‰ç›¸åº”çš„è®¿é—®æƒé™
- ç¡®ä¿å‰ç«¯é¡µé¢æ–‡ä»¶å­˜åœ¨ä¸”æ— è¯­æ³•é”™è¯¯

### 3. **é—®é¢˜æ’æŸ¥**
- æ£€æŸ¥èœå•é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æƒé™åˆ†é…æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥å‰ç«¯è·¯ç”±æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
- æ£€æŸ¥å‰ç«¯é¡µé¢æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

## ğŸ“ æ€»ç»“

### é—®é¢˜æ ¹æº
- **ä¸æ˜¯APIæ¥å£åœ°å€ä¸åŒ¹é…**
- **ä¸æ˜¯ä»£ç†é…ç½®é—®é¢˜**
- **æ˜¯å‰ç«¯é¡µé¢è¯­æ³•é”™è¯¯ + åŠ¨æ€è·¯ç”±ç”Ÿæˆé—®é¢˜**

### è§£å†³å…³é”®
- **ä¿®å¤å‰ç«¯é¡µé¢è¯­æ³•é”™è¯¯** - åˆ é™¤é”™è¯¯çš„watchéƒ¨åˆ†
- **å¼ºåˆ¶åˆ·æ–°èœå•é…ç½®** - ç¡®ä¿èœå•é…ç½®æ­£ç¡®
- **æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç™»å½•** - è®©å‰ç«¯é‡æ–°åŠ è½½èœå•
- **éªŒè¯æƒé™é…ç½®** - ç¡®ä¿ç”¨æˆ·æœ‰è®¿é—®æƒé™

### éªŒè¯ç»“æœ
- âœ… èœå•é…ç½®æ­£ç¡®
- âœ… æƒé™é…ç½®æ­£ç¡®
- âœ… å‰ç«¯é¡µé¢æ–‡ä»¶å­˜åœ¨ä¸”æ— è¯­æ³•é”™è¯¯
- âœ… å‰ç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

**æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ“ä½œåï¼ŒCandy AIç”¨æˆ·ç®¡ç†åº”è¯¥å¯ä»¥æ­£å¸¸è®¿é—®å’Œä½¿ç”¨ï¼** ğŸ‰

---

**ä¿®å¤æ—¶é—´**: 2025-08-01
**ä¿®å¤çŠ¶æ€**: âœ… å·²å®Œæˆ
**éªŒè¯çŠ¶æ€**: â³ éœ€è¦ç”¨æˆ·éªŒè¯ 