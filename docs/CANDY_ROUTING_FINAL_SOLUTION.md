# Candy AI è·¯ç”±é—®é¢˜æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## ğŸ› é—®é¢˜æè¿°

ç‚¹å‡»ç”¨æˆ·ç®¡ç†å’Œè§’è‰²ç®¡ç†æ—¶ï¼Œå‰ç«¯æŠ¥é”™ï¼š
- "No static resource candy/user/list"
- "No static resource candy/role/list"

## ğŸ” é—®é¢˜æ ¹æºåˆ†æ

### 1. **é—®é¢˜æœ¬è´¨**
è¿™æ˜¯ä¸€ä¸ª**å‰ç«¯åŠ¨æ€è·¯ç”±ç”Ÿæˆé—®é¢˜**ï¼Œè€Œä¸æ˜¯APIæ¥å£åœ°å€ä¸åŒ¹é…çš„é—®é¢˜ã€‚

### 2. **æŠ€æœ¯åŸå› **
åœ¨è‹¥ä¾æ¡†æ¶ä¸­ï¼š
- è·¯ç”±æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼ŒåŸºäºç”¨æˆ·ç™»å½•åè·å–çš„èœå•æƒé™
- å‰ç«¯é€šè¿‡ `getRouters` APIè·å–èœå•æ•°æ®
- ç„¶åæ ¹æ®èœå•æ•°æ®ç”ŸæˆåŠ¨æ€è·¯ç”±
- å¦‚æœèœå•é…ç½®æœ‰é—®é¢˜æˆ–å‰ç«¯æ²¡æœ‰æ­£ç¡®åŠ è½½ï¼Œå°±ä¼šå¯¼è‡´è·¯ç”±æ— æ³•ç”Ÿæˆ

### 3. **éªŒè¯ç»“æœ**
- âœ… APIæ¥å£åœ°å€æ­£ç¡®
- âœ… ä»£ç†é…ç½®æ­£ç¡®
- âœ… èœå•é…ç½®æ­£ç¡®
- âœ… æƒé™é…ç½®æ­£ç¡®
- âŒ å‰ç«¯åŠ¨æ€è·¯ç”±æ²¡æœ‰æ­£ç¡®ç”Ÿæˆ

## âœ… è§£å†³æ–¹æ¡ˆ

### **æ­¥éª¤1: å¼ºåˆ¶åˆ·æ–°èœå•é…ç½®**

å·²ç»æ‰§è¡Œäº†èœå•é…ç½®åˆ·æ–°ï¼š
```sql
-- ç¡®ä¿èœå•çŠ¶æ€æ­£ç¡®
UPDATE sys_menu SET visible = '0' WHERE menu_id IN (4, 400, 401, 402, 403);

-- ç¡®ä¿èœå•ç±»å‹æ­£ç¡®
UPDATE sys_menu SET menu_type = 'M' WHERE menu_id = 4;  -- Candy AI ä¸ºç›®å½•
UPDATE sys_menu SET menu_type = 'C' WHERE menu_id IN (400, 401, 402, 403);  -- å­èœå•ä¸ºèœå•

-- ç¡®ä¿è·¯å¾„é…ç½®æ­£ç¡®
UPDATE sys_menu SET path = 'candy' WHERE menu_id = 4;
UPDATE sys_menu SET path = 'candyuser' WHERE menu_id = 400;
UPDATE sys_menu SET path = 'candyrole' WHERE menu_id = 401;
UPDATE sys_menu SET path = 'candyconversation' WHERE menu_id = 402;
UPDATE sys_menu SET path = 'candysetting' WHERE menu_id = 403;

-- ç¡®ä¿æƒé™é…ç½®æ­£ç¡®
INSERT IGNORE INTO sys_role_menu (role_id, menu_id) VALUES (1, 4), (1, 400), ...;
```

### **æ­¥éª¤2: æ¸…é™¤å‰ç«¯ç¼“å­˜å¹¶é‡æ–°ç™»å½•**

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   ```bash
   # Windows
   Ctrl + Shift + Delete
   
   # Mac
   Cmd + Shift + Delete
   ```

2. **æ¸…é™¤æœ¬åœ°å­˜å‚¨**
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - è¿›å…¥ Application/Storage æ ‡ç­¾
   - æ¸…é™¤ Local Storage å’Œ Session Storage

3. **é‡æ–°ç™»å½•ç®¡ç†åå°**
   - è®¿é—® `http://localhost:1024`
   - ä½¿ç”¨ç®¡ç†å‘˜è´¦å·é‡æ–°ç™»å½•
   - ç™»å½•åèœå•ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½

### **æ­¥éª¤3: éªŒè¯èœå•æ˜¾ç¤º**

ç™»å½•ååº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… å·¦ä¾§èœå•æ˜¾ç¤º "Candy AI"
- âœ… å±•å¼€åæ˜¾ç¤º "ç”¨æˆ·ç®¡ç†"ã€"è§’è‰²ç®¡ç†"ã€"å¯¹è¯ç®¡ç†"ã€"ç³»ç»Ÿè®¾ç½®"

### **æ­¥éª¤4: æµ‹è¯•åŠŸèƒ½**

1. **ç‚¹å‡» "ç”¨æˆ·ç®¡ç†"** - åº”è¯¥èƒ½æ­£å¸¸è·³è½¬åˆ°ç”¨æˆ·ç®¡ç†é¡µé¢
2. **ç‚¹å‡» "è§’è‰²ç®¡ç†"** - åº”è¯¥èƒ½æ­£å¸¸è·³è½¬åˆ°è§’è‰²ç®¡ç†é¡µé¢

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### 1. **èœå•é…ç½®éªŒè¯**
```sql
SELECT 
    m.menu_id,
    m.menu_name,
    m.parent_id,
    m.path,
    m.component,
    m.menu_type,
    m.visible,
    CASE 
        WHEN m.parent_id = 0 THEN CONCAT('/', m.path)
        ELSE CONCAT('/', (SELECT p.path FROM sys_menu p WHERE p.menu_id = m.parent_id), '/', m.path)
    END as expected_route
FROM sys_menu m 
WHERE m.menu_id IN (4, 400, 401, 402, 403) 
ORDER BY m.menu_id;
```

**ç»“æœ**:
```
+---------+--------------+-----------+-------------------+--------------------------+-----------+---------+--------------------------+
| menu_id | menu_name    | parent_id | path              | component                | menu_type | visible | expected_route           |
+---------+--------------+-----------+-------------------+--------------------------+-----------+---------+--------------------------+
|       4 | Candy AI     |         0 | candy             | NULL                     | M         | 0       | /candy                   |
|     400 | ç”¨æˆ·ç®¡ç†     |         4 | candyuser         | candy/user/index         | C         | 0       | /candy/candyuser         |
|     401 | è§’è‰²ç®¡ç†     |         4 | candyrole         | candy/role/index         | C         | 0       | /candy/candyrole         |
|     402 | å¯¹è¯ç®¡ç†     |         4 | candyconversation | candy/conversation/index | C         | 0       | /candy/candyconversation |
|     403 | ç³»ç»Ÿè®¾ç½®     |         4 | candysetting      | candy/setting/index      | C         | 0       | /candy/candysetting      |
+---------+--------------+-----------+-------------------+--------------------------+-----------+---------+--------------------------+
```

### 2. **æƒé™é…ç½®éªŒè¯**
```sql
SELECT COUNT(*) as candy_menu_permissions 
FROM sys_role_menu rm 
JOIN sys_menu m ON rm.menu_id = m.menu_id 
WHERE rm.role_id = 1 AND m.perms LIKE 'candy:%';
```

**ç»“æœ**: 20ä¸ªCandy AIæƒé™

### 3. **å‰ç«¯è·¯ç”±ç”Ÿæˆæµç¨‹**
```
ç”¨æˆ·ç™»å½• â†’ è·å–ç”¨æˆ·æƒé™ â†’ è°ƒç”¨getRouters API â†’ è·å–èœå•æ•°æ® â†’ ç”ŸæˆåŠ¨æ€è·¯ç”± â†’ æ·»åŠ åˆ°è·¯ç”±å™¨ â†’ æ¸²æŸ“é¡µé¢
```

## ğŸ¯ é¢„é˜²æªæ–½

### 1. **å¼€å‘æ—¶æ³¨æ„**
- ä¿®æ”¹èœå•é…ç½®åéœ€è¦é‡æ–°ç™»å½•
- ç¡®ä¿èœå•çš„çˆ¶å­å…³ç³»æ­£ç¡®
- ç¡®ä¿è·¯å¾„é…ç½®å”¯ä¸€ï¼Œé¿å…å†²çª

### 2. **æµ‹è¯•éªŒè¯**
- ç¡®ä¿å‰åç«¯æ¥å£åœ°å€åŒ¹é…
- ç¡®ä¿ç”¨æˆ·æœ‰ç›¸åº”çš„è®¿é—®æƒé™
- ç¡®ä¿å‰ç«¯é¡µé¢æ–‡ä»¶å­˜åœ¨

### 3. **é—®é¢˜æ’æŸ¥**
- æ£€æŸ¥èœå•é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æƒé™åˆ†é…æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥å‰ç«¯è·¯ç”±æ˜¯å¦æ­£ç¡®ç”Ÿæˆ

## ğŸ“ æ€»ç»“

### é—®é¢˜æ ¹æº
- **ä¸æ˜¯APIæ¥å£åœ°å€ä¸åŒ¹é…**
- **ä¸æ˜¯ä»£ç†é…ç½®é—®é¢˜**
- **æ˜¯å‰ç«¯åŠ¨æ€è·¯ç”±ç”Ÿæˆé—®é¢˜**

### è§£å†³å…³é”®
- **å¼ºåˆ¶åˆ·æ–°èœå•é…ç½®** - ç¡®ä¿èœå•é…ç½®æ­£ç¡®
- **æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç™»å½•** - è®©å‰ç«¯é‡æ–°åŠ è½½èœå•
- **éªŒè¯æƒé™é…ç½®** - ç¡®ä¿ç”¨æˆ·æœ‰è®¿é—®æƒé™

### éªŒè¯ç»“æœ
- âœ… èœå•é…ç½®æ­£ç¡®
- âœ… æƒé™é…ç½®æ­£ç¡®
- âœ… å‰ç«¯é¡µé¢æ–‡ä»¶å­˜åœ¨
- âœ… å‰ç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

**æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ“ä½œåï¼ŒCandy AIç”¨æˆ·ç®¡ç†å’Œè§’è‰²ç®¡ç†é¡µé¢åº”è¯¥å¯ä»¥æ­£å¸¸è®¿é—®å’Œä½¿ç”¨ï¼** ğŸ‰

---

**ä¿®å¤æ—¶é—´**: 2025-08-01
**ä¿®å¤çŠ¶æ€**: âœ… å·²å®Œæˆ
**éªŒè¯çŠ¶æ€**: â³ éœ€è¦ç”¨æˆ·éªŒè¯ 