# Candy AI Server é¡¹ç›®ç»“æ„

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
candy-ai-server/
â”œâ”€â”€ ğŸ“¦ åç«¯æ¨¡å—
â”‚   â”œâ”€â”€ ruoyi-admin/          # ğŸš€ ä¸»å¯åŠ¨æ¨¡å—
â”‚   â”œâ”€â”€ ruoyi-common/         # ğŸ“¦ RuoYi å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ ruoyi-system/         # ğŸ”§ RuoYi ç³»ç»Ÿæ¨¡å—
â”‚   â”œâ”€â”€ ruoyi-framework/      # ğŸ—ï¸ RuoYi æ¡†æ¶æ¨¡å—
â”‚   â”œâ”€â”€ ruoyi-quartz/         # â° RuoYi å®šæ—¶ä»»åŠ¡
â”‚   â”œâ”€â”€ ruoyi-generator/      # ğŸ”¨ RuoYi ä»£ç ç”Ÿæˆå™¨
â”‚   â””â”€â”€ candy-ai/             # ğŸ¬ Candy AI ä¸šåŠ¡æ¨¡å—ï¼ˆç‹¬ç«‹ï¼‰
â”‚       â”œâ”€â”€ candy-ai-domain/  # ğŸ›ï¸ AI å®ä½“å’Œ DTO
â”‚       â”œâ”€â”€ candy-ai-service/ # âš™ï¸ AI ä¸šåŠ¡æœåŠ¡
â”‚       â””â”€â”€ candy-ai-api/     # ğŸŒ AI API æ¥å£
â”œâ”€â”€ ğŸ¨ å‰ç«¯æ¨¡å—
â”‚   â””â”€â”€ ruoyi-ui/             # ğŸ–¥ï¸ RuoYi ç®¡ç†åå°å‰ç«¯ï¼ˆåŒ…å« Candy AI åŠŸèƒ½ï¼‰
â”œâ”€â”€ ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ docs/                 # ğŸ“– é¡¹ç›®æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ api/             # ğŸ“‹ API æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ PROJECT_STRUCTURE.md
â”‚   â””â”€â”€ è‹¥ä¾ç¯å¢ƒä½¿ç”¨æ‰‹å†Œ.docx
â”œâ”€â”€ ğŸ”§ è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ scripts/              # ğŸ› ï¸ é¡¹ç›®è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ sql/             # ğŸ—„ï¸ SQL è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ start_admin.sh   # ğŸš€ å¯åŠ¨è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ stop_admin.sh    # ğŸ›‘ åœæ­¢è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ ry.sh           # ğŸ§ Linux å¯åŠ¨è„šæœ¬
â”‚   â”‚   â””â”€â”€ ry.bat          # ğŸªŸ Windows å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ .github/             # ğŸ¤– GitHub Actions
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ pom.xml              # ğŸ“¦ Maven é…ç½®
â”‚   â”œâ”€â”€ .gitignore           # ğŸš« Git å¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ LICENSE              # ğŸ“œ è®¸å¯è¯
â”‚   â””â”€â”€ README.md            # ğŸ“– é¡¹ç›®è¯´æ˜
â””â”€â”€ ğŸ—„ï¸ æ•°æ®åº“æ–‡ä»¶
    â””â”€â”€ ai_girlfriend.db     # ğŸ¬ SQLite æ•°æ®åº“ï¼ˆå¼€å‘ç”¨ï¼‰
```

## ğŸ—ï¸ æ¨¡å—è¯´æ˜

### åç«¯æ¨¡å— (Backend Modules)

#### RuoYi åŸºç¡€æ¨¡å—
- **ruoyi-admin**: ä¸»å¯åŠ¨æ¨¡å—ï¼ŒåŒ…å« Spring Boot å¯åŠ¨ç±»å’Œé…ç½®æ–‡ä»¶
- **ruoyi-common**: å…¬å…±å·¥å…·ç±»ã€å¸¸é‡ã€å¼‚å¸¸ç­‰
- **ruoyi-system**: ç³»ç»Ÿç®¡ç†æ¨¡å—ï¼Œç”¨æˆ·ã€è§’è‰²ã€æƒé™ç­‰
- **ruoyi-framework**: æ¡†æ¶æ ¸å¿ƒï¼Œå®‰å…¨é…ç½®ã€æ‹¦æˆªå™¨ç­‰
- **ruoyi-quartz**: å®šæ—¶ä»»åŠ¡æ¨¡å—
- **ruoyi-generator**: ä»£ç ç”Ÿæˆå™¨æ¨¡å—

#### Candy AI ä¸šåŠ¡æ¨¡å—
- **candy-ai-domain**: å®ä½“ç±»å’Œ DTOï¼Œå®šä¹‰ AI ç›¸å…³æ•°æ®ç»“æ„
- **candy-ai-service**: ä¸šåŠ¡æœåŠ¡å±‚ï¼Œå®ç° AI ç›¸å…³ä¸šåŠ¡é€»è¾‘
- **candy-ai-api**: API æ¥å£å±‚ï¼Œæä¾› RESTful æ¥å£

### å‰ç«¯æ¨¡å— (Frontend Modules)
- **ruoyi-ui**: åŸºäº Vue2 + Element UI çš„ç®¡ç†åå°ç•Œé¢ï¼ŒåŒ…å«å®Œæ•´çš„ RuoYi ç®¡ç†åŠŸèƒ½å’Œ Candy AI ä¸šåŠ¡åŠŸèƒ½

### æ–‡æ¡£ç›®å½• (Documentation)
- **docs/api/**: API æ¥å£æ–‡æ¡£
- **docs/**: é¡¹ç›®ç›¸å…³æ–‡æ¡£

### è„šæœ¬ç›®å½• (Scripts)
- **scripts/sql/**: æ•°æ®åº“è„šæœ¬
  - `ry_20250522.sql`: RuoYi ç³»ç»Ÿè¡¨ç»“æ„
  - `quartz.sql`: å®šæ—¶ä»»åŠ¡è¡¨ç»“æ„
  - `ai_girlfriend_tables.sql`: Candy AI ä¸šåŠ¡è¡¨ç»“æ„
- **scripts/**: é¡¹ç›®å¯åŠ¨å’Œç®¡ç†è„šæœ¬

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### è¡¨å‰ç¼€è§„èŒƒ
- **RuoYi ç³»ç»Ÿè¡¨**: æ— å‰ç¼€ï¼ˆå¦‚ï¼šsys_user, sys_roleï¼‰
- **Candy AI ä¸šåŠ¡è¡¨**: `candy_` å‰ç¼€ï¼ˆå¦‚ï¼šcandy_ai_characterï¼‰

### ä¸»è¦æ•°æ®è¡¨
1. **ç³»ç»Ÿç®¡ç†è¡¨** (RuoYi)
   - `sys_user`: ç”¨æˆ·è¡¨
   - `sys_role`: è§’è‰²è¡¨
   - `sys_menu`: èœå•è¡¨
   - `sys_dept`: éƒ¨é—¨è¡¨

2. **Candy AI ä¸šåŠ¡è¡¨**
   - `candy_ai_character`: AI è§’è‰²è¡¨
   - `candy_ai_conversation`: å¯¹è¯ä¼šè¯è¡¨
   - `candy_ai_message`: å¯¹è¯æ¶ˆæ¯è¡¨
   - `candy_ai_memory`: è§’è‰²è®°å¿†è¡¨

## ğŸš€ å¯åŠ¨æ–¹å¼

### åç«¯å¯åŠ¨
```bash
# æ–¹å¼1: ä½¿ç”¨ Maven
cd ruoyi-admin
mvn spring-boot:run

# æ–¹å¼2: ä½¿ç”¨è„šæœ¬
./scripts/start_admin.sh
```

### å‰ç«¯å¯åŠ¨
```bash
# RuoYi ç®¡ç†åå°
cd ruoyi-ui
npm install
npm run dev

# RuoYi ç®¡ç†åå°ï¼ˆåŒ…å« Candy AI åŠŸèƒ½ï¼‰
cd ruoyi-ui
npm install
npm run dev
```

## ğŸ“‹ å¼€å‘è§„èŒƒ

### åŒ…å‘½åè§„èŒƒ
- **RuoYi æ¨¡å—**: `com.ruoyi.*`
- **Candy AI æ¨¡å—**: `com.vibetempt.candy.*`

### æ¥å£å‘½åè§„èŒƒ
- æ¥å£ç±»åä¸ä»¥ `I` å¼€å¤´
- ç¤ºä¾‹ï¼š`AiChatService` è€Œä¸æ˜¯ `IAiChatService`

### æ•°æ®åº“è¡¨å‘½å
- RuoYi è¡¨ï¼šæ— å‰ç¼€
- Candy AI è¡¨ï¼š`candy_` å‰ç¼€

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
- **æ•°æ®åº“å**: `candy_ai`
- **ç”¨æˆ·å**: `root`
- **å¯†ç **: `123456`
- **ç«¯å£**: `3306`

### åº”ç”¨é…ç½®
- **åç«¯ç«¯å£**: `8080`
- **å‰ç«¯ç«¯å£**: `80` (RuoYi ç®¡ç†åå°)

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ¨¡å—ç‹¬ç«‹æ€§**: Candy AI ä¸šåŠ¡ä»£ç å®Œå…¨ç‹¬ç«‹ï¼Œä¸æ±¡æŸ“ RuoYi åŸæœ‰ä»£ç 
2. **æ•°æ®åº“åˆ†ç¦»**: ä½¿ç”¨è¡¨å‰ç¼€åŒºåˆ†ç³»ç»Ÿè¡¨å’Œä¸šåŠ¡è¡¨
3. **é…ç½®ç®¡ç†**: æ•æ„Ÿé…ç½®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®æ–‡ä»¶
4. **æ—¥å¿—ç®¡ç†**: æ—¥å¿—æ–‡ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨ `logs/` ç›®å½• 